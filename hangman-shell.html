<!doctype html>
<html>
<head>
  <title>Hangman!</title>
  <style>
     p { font-size: 30pt;}
     #game { width: 60%; margin: auto; }
     #messages { color: red; }
  </style>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script>

      // $(document) is the jQuery reference to the whole web page
      $(document).ready( function() {
        // put your javascript here
        var word =   "c a t n i p"; // the word to guess
        var blanks = "- - - - - - "; // this variable holds the temporary information
        var guesses = 10; // the number of guesses left
        var guessed  = []; // these are the letters that have already been guessed
        var finished = false; // change to true when the game is finished

$("#guesses").html (guesses);
$("#word").html (blanks);

$(".letter").click(function(e) {
  //run this when a letter is clicked on

  //stop the function if the game is ouer
  if (finished) { return; }

  // get the Letter
var letter = $(e.target).text();
console.log("clicked on ", letter);

// change the text decoration for the Letter
$("#"+letter).css( "text-decoration", "line-through");

//check if the letter has already been guessed
if (guessed.includes(letter)) {
  $("#messages").text("The letter " +letter + " has already been guessed.");
 } else {
   //add the letter to array of guessed
   guessed = guessed + letter;
 //subtract a guess
 guesses = guesses - 1;
 $("#guesses").html(guesses);
 if (guesses <= 0) {
    $("#messages").text( "Out of guesses! You Lose!");
     finished = true;
}
}

//check the letters in word and see if there's a match
 var count = 0;
for (l of word) {
  if (l == letter) {
    blanks = blanks.substring(0, count) + letter +
          blanks.substring((count+l),blanks.length);
        }
        count = count + 1;
        {
          //update the blanks
          $("#word").html(blanks);

          //check if we've won
          if (! blanks.includes("-")) {
            finished = true;
         $("#messages").text("You won!");
       }



      });

    });

  </script>
</head>
